---
// Theme toggle: dark mode default; persists choice in localStorage.
---
<button
  id="theme-toggle"
  type="button"
  class="touch-target p-2.5 min-h-[44px] min-w-[44px] sm:min-h-0 sm:min-w-0 rounded-full border border-[var(--ink)]/20 hover:bg-[var(--accent-muted)] hover:border-[var(--accent)]/40 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface)] inline-flex items-center justify-center"
  aria-label="Toggle light/dark mode"
>
  <span class="dark:hidden" aria-hidden="true">üåô</span>
  <span class="hidden dark:inline" aria-hidden="true">‚òÄÔ∏è</span>
</button>
<script is:inline>
  (function() {
    var stored = localStorage.getItem('theme');
    if (!stored) stored = 'dark';
    if (stored === 'light') document.documentElement.classList.remove('dark');
    else document.documentElement.classList.add('dark');

    document.getElementById('theme-toggle')?.addEventListener('click', function() {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
    });
  })();
</script>
